# Gitignore

[origin](https://git-scm.com/docs/gitignore)

指定要忽略的有意不跟踪的文件

一个 `gitignore` 文件指定了Git应该忽略的有意不跟踪的文件。已经被Git跟踪的文件不受影响；有关详细信息，请参阅下面的注释。

每个 `gitignore` 文件中的每一行都指定了一个模式。在决定是否忽略一个路径时，Git通常会从多个来源检查 `gitignore` 模式，按照以下优先顺序（在同一级别的优先顺序中，最后匹配的模式决定结果）：

* 支持命令行读取的命令的模式。

* 从与路径相同目录中的 `.gitignore` 文件中读取的模式，或者从任何父目录（直到工作树的顶层）中的文件中读取，高级别文件中的模式会被低级别文件中的模式覆盖，直到包含该文件的目录。这些模式与 `.gitignore` 文件的位置相关。项目通常在其存储库中包含这样的 `.gitignore` 文件，其中包含作为项目构建的一部分生成的文件的模式。

* 从 `$GIT_DIR/info/exclude` 中读取的模式。
* 从由配置变量 `core.excludesFile` 指定的文件中读取模式。

将模式放置在哪个文件中取决于模式的使用方式。

* 应该通过克隆将需要进行版本控制并分发到其他存储库的模式（即，所有开发人员都希望忽略的文件）放入 `.gitignore` 文件中。

* 特定于特定存储库的模式，但不需要与其他相关存储库共享的模式（例如，存储在存储库内但特定于一个用户工作流程的辅助文件）应放入 `$GIT_DIR/info/exclude` 文件中。

* 用户希望Git在所有情况下忽略的模式（例如，用户选择的编辑器生成的备份或临时文件）通常放在用户的 `core.excludesFile` 中指定的文件中。其默认值为$XDG_CONFIG_HOME/git/ignore。如果$XDG_CONFIG_HOME未设置或为空，则使用$HOME/.config/git/ignore。

## PATTERN FORMAT

* 空白行不匹配任何文件，因此可以作为可读性的分隔符。
* 以#开头的行作为注释。对于以#开头的模式，请在第一个#前面加上反斜杠（" `\` "）。
* 尾随空格会被忽略，除非它们被反斜杠引用（" `\` "）。
* 一个可选的前缀 " `!` "，用于否定模式；任何被之前的模式排除的匹配文件将重新包含。如果一个文件的父目录被排除，则无法重新包含该文件。出于性能原因，Git不会列出被排除的目录，因此对包含文件的任何模式都没有影响，无论它们在哪里定义。对于以字面值 " `!` " 开头的模式，在第一个 " `!` " 前面加上反斜杠（" `\` "），例如，" `\!important!.txt` "。
* 斜杠“/”用作目录分隔符。分隔符可以出现在搜索模式的开头、中间或结尾。
* 如果模式的开头或中间（或两者都有）有分隔符，则该模式相对于特定文件的目录级别。否则，该模式也可以匹配在 `.gitignore` 级别以下的任何级别。
* 如果模式末尾有分隔符，则模式只匹配目录，否则模式可以匹配文件和目录。
* 例如，模式 `doc/frotz/` 匹配 `doc/frotz` 目录，但不匹配 `a/doc/frotz` 目录；然而 `frotz/` 匹配 `frotz` 和 `a/frotz` ，它是一个目录（所有路径都是相对于 `.gitignore` 文件的）。

* 一个星号“ `*` ”匹配除了斜杠之外的任何字符。字符“ `?` ”匹配除了“ `/` ”之外的任意一个字符。范围表示法，例如 `[a-zA-Z]` ，可以用来匹配范围内的任意一个字符。有关更详细的描述，请参阅fnmatch(3)和FNM_PATHNAME标志。
* 在与完整路径名匹配的模式中，连续的两个星号（“ `**` ”）可能具有特殊含义
  * 一个前导的“ `**` ”后跟一个斜杠表示在所有目录中匹配。例如，“ `**/foo` ”匹配文件或目录“ `foo`”的任何位置，与模式“ `foo` ”相同。而“ `**/foo/bar` ”匹配文件或目录“ `bar` ”的任何位置，但是它必须直接位于目录“ `foo` ”下。
  * 一个尾随的" `/**` "匹配内部的所有内容。例如，" `abc/**` "匹配目录" `abc` "内的所有文件，相对于 `.gitignore` 文件的位置，深度无限。
  * 斜杠后跟两个连续的星号再跟斜杠，匹配零个或多个目录。例如，" `a/**/b` " 匹配 " `a/b` "，" `a/x/b` "，" `a/x/y/b` " 等等。
  * 其他连续的星号被视为普通的星号，并将根据先前的规则进行匹配。

## NOTES 注意事项

gitignore文件的目的是确保Git不跟踪某些文件

要停止跟踪当前已跟踪的文件，请使用git rm --cached将文件从索引中移除。然后，可以将文件名添加到 `.gitignore` 文件中，以防止文件在以后的提交中重新引入。

Git在访问工作树中的文件时不会遵循符号链接。这样可以保持从索引或树中访问文件与从文件系统中访问文件的行为一致。







